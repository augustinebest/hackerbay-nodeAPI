{"C:\\Users\\HP\\Documents\\Projects\\PROJECTS\\Hackerbay\\api\\tests\\authTest.spec.js":{"path":"C:\\Users\\HP\\Documents\\Projects\\PROJECTS\\Hackerbay\\api\\tests\\authTest.spec.js","statementMap":{"0":{"start":{"line":3,"column":17},"end":{"line":3,"column":61}},"1":{"start":{"line":5,"column":14},"end":{"line":5,"column":55}},"2":{"start":{"line":7,"column":12},"end":{"line":7,"column":27}},"3":{"start":{"line":9,"column":11},"end":{"line":9,"column":52}},"4":{"start":{"line":11,"column":39},"end":{"line":11,"column":95}},"5":{"start":{"line":14,"column":0},"end":{"line":53,"column":3}},"6":{"start":{"line":15,"column":16},"end":{"line":18,"column":3}},"7":{"start":{"line":19,"column":21},"end":{"line":22,"column":3}},"8":{"start":{"line":23,"column":2},"end":{"line":31,"column":5}},"9":{"start":{"line":24,"column":4},"end":{"line":29,"column":7}},"10":{"start":{"line":25,"column":6},"end":{"line":25,"column":25}},"11":{"start":{"line":25,"column":15},"end":{"line":25,"column":25}},"12":{"start":{"line":26,"column":6},"end":{"line":26,"column":45}},"13":{"start":{"line":27,"column":6},"end":{"line":27,"column":46}},"14":{"start":{"line":28,"column":6},"end":{"line":28,"column":60}},"15":{"start":{"line":30,"column":4},"end":{"line":30,"column":11}},"16":{"start":{"line":32,"column":2},"end":{"line":34,"column":5}},"17":{"start":{"line":33,"column":4},"end":{"line":33,"column":11}},"18":{"start":{"line":35,"column":2},"end":{"line":44,"column":5}},"19":{"start":{"line":36,"column":4},"end":{"line":43,"column":7}},"20":{"start":{"line":37,"column":6},"end":{"line":37,"column":25}},"21":{"start":{"line":37,"column":15},"end":{"line":37,"column":25}},"22":{"start":{"line":38,"column":6},"end":{"line":38,"column":46}},"23":{"start":{"line":39,"column":6},"end":{"line":39,"column":45}},"24":{"start":{"line":40,"column":6},"end":{"line":40,"column":50}},"25":{"start":{"line":41,"column":6},"end":{"line":41,"column":29}},"26":{"start":{"line":42,"column":6},"end":{"line":42,"column":13}},"27":{"start":{"line":45,"column":2},"end":{"line":52,"column":5}},"28":{"start":{"line":46,"column":4},"end":{"line":51,"column":7}},"29":{"start":{"line":47,"column":6},"end":{"line":47,"column":25}},"30":{"start":{"line":47,"column":15},"end":{"line":47,"column":25}},"31":{"start":{"line":48,"column":6},"end":{"line":48,"column":81}},"32":{"start":{"line":49,"column":6},"end":{"line":49,"column":50}},"33":{"start":{"line":50,"column":6},"end":{"line":50,"column":13}},"34":{"start":{"line":54,"column":0},"end":{"line":75,"column":3}},"35":{"start":{"line":55,"column":17},"end":{"line":58,"column":3}},"36":{"start":{"line":59,"column":14},"end":{"line":63,"column":4}},"37":{"start":{"line":64,"column":2},"end":{"line":74,"column":5}},"38":{"start":{"line":65,"column":4},"end":{"line":73,"column":7}},"39":{"start":{"line":69,"column":6},"end":{"line":69,"column":25}},"40":{"start":{"line":69,"column":15},"end":{"line":69,"column":25}},"41":{"start":{"line":70,"column":6},"end":{"line":70,"column":50}},"42":{"start":{"line":71,"column":6},"end":{"line":71,"column":79}},"43":{"start":{"line":72,"column":6},"end":{"line":72,"column":13}},"44":{"start":{"line":76,"column":0},"end":{"line":95,"column":3}},"45":{"start":{"line":77,"column":2},"end":{"line":77,"column":23}},"46":{"start":{"line":78,"column":2},"end":{"line":86,"column":5}},"47":{"start":{"line":79,"column":19},"end":{"line":79,"column":152}},"48":{"start":{"line":80,"column":4},"end":{"line":85,"column":7}},"49":{"start":{"line":81,"column":6},"end":{"line":81,"column":25}},"50":{"start":{"line":81,"column":15},"end":{"line":81,"column":25}},"51":{"start":{"line":82,"column":6},"end":{"line":82,"column":50}},"52":{"start":{"line":83,"column":6},"end":{"line":83,"column":76}},"53":{"start":{"line":84,"column":6},"end":{"line":84,"column":13}},"54":{"start":{"line":87,"column":2},"end":{"line":94,"column":5}},"55":{"start":{"line":88,"column":19},"end":{"line":88,"column":21}},"56":{"start":{"line":89,"column":4},"end":{"line":93,"column":7}},"57":{"start":{"line":90,"column":6},"end":{"line":90,"column":25}},"58":{"start":{"line":90,"column":15},"end":{"line":90,"column":25}},"59":{"start":{"line":91,"column":6},"end":{"line":91,"column":50}},"60":{"start":{"line":92,"column":6},"end":{"line":92,"column":13}}},"fnMap":{"0":{"name":"_interopRequireDefault","decl":{"start":{"line":11,"column":9},"end":{"line":11,"column":31}},"loc":{"start":{"line":11,"column":37},"end":{"line":11,"column":97}},"line":11},"1":{"name":"(anonymous_1)","decl":{"start":{"line":14,"column":34},"end":{"line":14,"column":35}},"loc":{"start":{"line":14,"column":46},"end":{"line":53,"column":1}},"line":14},"2":{"name":"(anonymous_2)","decl":{"start":{"line":23,"column":21},"end":{"line":23,"column":22}},"loc":{"start":{"line":23,"column":37},"end":{"line":31,"column":3}},"line":23},"3":{"name":"(anonymous_3)","decl":{"start":{"line":24,"column":169},"end":{"line":24,"column":170}},"loc":{"start":{"line":24,"column":189},"end":{"line":29,"column":5}},"line":24},"4":{"name":"(anonymous_4)","decl":{"start":{"line":32,"column":50},"end":{"line":32,"column":51}},"loc":{"start":{"line":32,"column":66},"end":{"line":34,"column":3}},"line":32},"5":{"name":"(anonymous_5)","decl":{"start":{"line":35,"column":25},"end":{"line":35,"column":26}},"loc":{"start":{"line":35,"column":41},"end":{"line":44,"column":3}},"line":35},"6":{"name":"(anonymous_6)","decl":{"start":{"line":36,"column":157},"end":{"line":36,"column":158}},"loc":{"start":{"line":36,"column":177},"end":{"line":43,"column":5}},"line":36},"7":{"name":"(anonymous_7)","decl":{"start":{"line":45,"column":30},"end":{"line":45,"column":31}},"loc":{"start":{"line":45,"column":46},"end":{"line":52,"column":3}},"line":45},"8":{"name":"(anonymous_8)","decl":{"start":{"line":46,"column":162},"end":{"line":46,"column":163}},"loc":{"start":{"line":46,"column":182},"end":{"line":51,"column":5}},"line":46},"9":{"name":"(anonymous_9)","decl":{"start":{"line":54,"column":27},"end":{"line":54,"column":28}},"loc":{"start":{"line":54,"column":39},"end":{"line":75,"column":1}},"line":54},"10":{"name":"(anonymous_10)","decl":{"start":{"line":64,"column":36},"end":{"line":64,"column":37}},"loc":{"start":{"line":64,"column":52},"end":{"line":74,"column":3}},"line":64},"11":{"name":"(anonymous_11)","decl":{"start":{"line":68,"column":11},"end":{"line":68,"column":12}},"loc":{"start":{"line":68,"column":31},"end":{"line":73,"column":5}},"line":68},"12":{"name":"delayTime","decl":{"start":{"line":76,"column":42},"end":{"line":76,"column":51}},"loc":{"start":{"line":76,"column":54},"end":{"line":95,"column":1}},"line":76},"13":{"name":"(anonymous_13)","decl":{"start":{"line":78,"column":41},"end":{"line":78,"column":42}},"loc":{"start":{"line":78,"column":57},"end":{"line":86,"column":3}},"line":78},"14":{"name":"(anonymous_14)","decl":{"start":{"line":80,"column":180},"end":{"line":80,"column":181}},"loc":{"start":{"line":80,"column":200},"end":{"line":85,"column":5}},"line":80},"15":{"name":"(anonymous_15)","decl":{"start":{"line":87,"column":41},"end":{"line":87,"column":42}},"loc":{"start":{"line":87,"column":57},"end":{"line":94,"column":3}},"line":87},"16":{"name":"(anonymous_16)","decl":{"start":{"line":89,"column":180},"end":{"line":89,"column":181}},"loc":{"start":{"line":89,"column":200},"end":{"line":93,"column":5}},"line":89}},"branchMap":{"0":{"loc":{"start":{"line":11,"column":46},"end":{"line":11,"column":94}},"type":"cond-expr","locations":[{"start":{"line":11,"column":70},"end":{"line":11,"column":73}},{"start":{"line":11,"column":76},"end":{"line":11,"column":94}}],"line":11},"1":{"loc":{"start":{"line":11,"column":46},"end":{"line":11,"column":67}},"type":"binary-expr","locations":[{"start":{"line":11,"column":46},"end":{"line":11,"column":49}},{"start":{"line":11,"column":53},"end":{"line":11,"column":67}}],"line":11},"2":{"loc":{"start":{"line":25,"column":6},"end":{"line":25,"column":25}},"type":"if","locations":[{"start":{"line":25,"column":6},"end":{"line":25,"column":25}},{"start":{"line":25,"column":6},"end":{"line":25,"column":25}}],"line":25},"3":{"loc":{"start":{"line":37,"column":6},"end":{"line":37,"column":25}},"type":"if","locations":[{"start":{"line":37,"column":6},"end":{"line":37,"column":25}},{"start":{"line":37,"column":6},"end":{"line":37,"column":25}}],"line":37},"4":{"loc":{"start":{"line":47,"column":6},"end":{"line":47,"column":25}},"type":"if","locations":[{"start":{"line":47,"column":6},"end":{"line":47,"column":25}},{"start":{"line":47,"column":6},"end":{"line":47,"column":25}}],"line":47},"5":{"loc":{"start":{"line":69,"column":6},"end":{"line":69,"column":25}},"type":"if","locations":[{"start":{"line":69,"column":6},"end":{"line":69,"column":25}},{"start":{"line":69,"column":6},"end":{"line":69,"column":25}}],"line":69},"6":{"loc":{"start":{"line":81,"column":6},"end":{"line":81,"column":25}},"type":"if","locations":[{"start":{"line":81,"column":6},"end":{"line":81,"column":25}},{"start":{"line":81,"column":6},"end":{"line":81,"column":25}}],"line":81},"7":{"loc":{"start":{"line":90,"column":6},"end":{"line":90,"column":25}},"type":"if","locations":[{"start":{"line":90,"column":6},"end":{"line":90,"column":25}},{"start":{"line":90,"column":6},"end":{"line":90,"column":25}}],"line":90}},"s":{"0":1,"1":1,"2":1,"3":1,"4":3,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":0,"12":1,"13":1,"14":1,"15":1,"16":1,"17":3,"18":1,"19":1,"20":1,"21":0,"22":1,"23":1,"24":1,"25":1,"26":1,"27":1,"28":1,"29":1,"30":0,"31":1,"32":1,"33":1,"34":1,"35":1,"36":1,"37":1,"38":1,"39":1,"40":0,"41":1,"42":1,"43":1,"44":1,"45":1,"46":1,"47":1,"48":1,"49":1,"50":0,"51":1,"52":1,"53":1,"54":1,"55":1,"56":1,"57":1,"58":0,"59":1,"60":1},"f":{"0":3,"1":1,"2":1,"3":1,"4":3,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":1,"13":1,"14":1,"15":1,"16":1},"b":{"0":[1,2],"1":[3,3],"2":[0,1],"3":[0,1],"4":[0,1],"5":[0,1],"6":[0,1],"7":[0,1]},"inputSourceMap":{"version":3,"sources":["authTest.spec.js"],"names":["token","describe","payload","username","password","emptyPayload","it","done","app","post","set","send","expect","end","err","res","body","should","have","property","afterEach","status","to","equal","document","patch","result","delayTime","timeout","imageUri","get","headers"],"mappings":"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","sourceRoot":"C:\\Users\\HP\\Documents\\Projects\\PROJECTS\\Hackerbay\\api\\tests","sourcesContent":["import request from 'supertest';\r\nimport should from 'should';\r\nimport { expect } from 'chai';\r\nimport app from '../app';\r\n\r\nlet token;\r\ndescribe('Authentication test: ', () => {\r\n    const payload = { username: \"hackerBayInc\", password: \"1234\" };\r\n    const emptyPayload = { username: \"\", password: \"\" };\r\n    it('Login a user', (done) => {\r\n        request(app)\r\n            .post('/api/login')\r\n            .set(\"Connection\", \"keep alive\")\r\n            .set(\"Content-Type\", \"application/json\")\r\n            .send(payload)\r\n            .expect(200)\r\n            .end((err, res) => {\r\n                if (err) done(err);\r\n                res.body.should.have.property('token');\r\n                res.body.should.have.property('status');\r\n                res.body.should.have.property('user', \"hackerBayInc\");\r\n            })\r\n        done();\r\n    })\r\n    afterEach('To ensure everything is cleaned up', (done) => {\r\n        done();\r\n    });\r\n    it('confirming token', (done) => {\r\n        request(app)\r\n            .post('/api/login')\r\n            .set(\"Connection\", \"keep alive\")\r\n            .set(\"Content-Type\", \"application/json\")\r\n            .send(payload)\r\n            .end((err, res) => {\r\n                if (err) done(err);\r\n                res.body.should.have.property('status')\r\n                res.body.should.have.property('token')\r\n                expect(res.status).to.equal(200)\r\n                token = res.body.token;\r\n                done();\r\n            })\r\n    })\r\n    it('checking empty fields', (done) => {\r\n        request(app)\r\n            .post('/api/login')\r\n            .set(\"Connection\", 'keep alive')\r\n            .set(\"Content-Type\", \"application/json\")\r\n            .send(emptyPayload)\r\n            .end((err, res) => {\r\n                if (err) done(err);\r\n                expect(res.body.err).to.equal('login credentials is required!')\r\n                expect(res.status).to.equal(401)\r\n                done();\r\n            })\r\n    })\r\n})\r\n\r\ndescribe('JSON patcher: ', () => {\r\n    const document = { \"name\": \"best\", \"gender\": \"male\" }, patch = [{ \"op\": \"replace\", \"path\": \"/name\", \"value\": \"Augustine\" }];\r\n    it('confirming successful patch', (done) => {\r\n        request(app)\r\n            .patch('/api/jsonpatcher')\r\n            .set(\"Authorization\", `${token}`)\r\n            .set(\"Content-Type\", \"application/json\")\r\n            .send({ document, patch })\r\n            .end((err, res) => {\r\n                if (err) done(err);\r\n                expect(res.status).to.equal(200)\r\n                expect(res.body.result).to.have.property('name', 'Augustine');\r\n                done();\r\n            })\r\n    })\r\n})\r\n\r\ndescribe('Generate thumbnail: ', function delayTime() {\r\n    this.timeout(200000);\r\n    it('cconfirm successful image return', (done) => {\r\n        const imageUri = 'https://images.unsplash.com/photo-1558981001-792f6c0d5068?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1350&q=80';\r\n        request(app)\r\n            .get(`/api/generateThumbnail?imageUrl=${imageUri}`)\r\n            .set(\"Connection\", \"keep alive\")\r\n            .set(\"Authorization\", `${token}`)\r\n            .end((err, res) => {\r\n                if (err) done(err);\r\n                expect(res.status).to.equal(200)\r\n                expect(res.headers[\"content-type\"]).to.equal(\"image/jpeg\");\r\n                done()\r\n            })\r\n    })\r\n\r\n    it('checking invalid/empty image uri', (done) => {\r\n        const imageUri = '';\r\n        request(app)\r\n            .get(`/api/generateThumbnail?imageUrl=${imageUri}`)\r\n            .set(\"Connection\", \"keep alive\")\r\n            .set(\"Authorization\", `${token}`)\r\n            .end((err, res) => {\r\n                if (err) done(err);\r\n                expect(res.status).to.equal(404)\r\n                done()\r\n            })\r\n    })\r\n})"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"77a9ad170465a0cac8cf8a18f1c4ff42e151700d","contentHash":"e2fe42e5a51b8ef83159e5178b5543617b4bebecab1c4723c14d1d22c154a6f6"},"C:\\Users\\HP\\Documents\\Projects\\PROJECTS\\Hackerbay\\api\\app.js":{"path":"C:\\Users\\HP\\Documents\\Projects\\PROJECTS\\Hackerbay\\api\\app.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":5,"column":3}},"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":28}},"2":{"start":{"line":8,"column":0},"end":{"line":8,"column":25}},"3":{"start":{"line":10,"column":15},"end":{"line":10,"column":57}},"4":{"start":{"line":12,"column":18},"end":{"line":12,"column":64}},"5":{"start":{"line":14,"column":21},"end":{"line":14,"column":78}},"6":{"start":{"line":16,"column":39},"end":{"line":16,"column":95}},"7":{"start":{"line":18,"column":10},"end":{"line":18,"column":36}},"8":{"start":{"line":21,"column":0},"end":{"line":23,"column":4}},"9":{"start":{"line":24,"column":0},"end":{"line":24,"column":39}},"10":{"start":{"line":25,"column":0},"end":{"line":29,"column":3}},"11":{"start":{"line":26,"column":2},"end":{"line":28,"column":5}},"12":{"start":{"line":31,"column":0},"end":{"line":31,"column":43}},"13":{"start":{"line":32,"column":15},"end":{"line":32,"column":18}},"14":{"start":{"line":33,"column":0},"end":{"line":33,"column":30}}},"fnMap":{"0":{"name":"_interopRequireDefault","decl":{"start":{"line":16,"column":9},"end":{"line":16,"column":31}},"loc":{"start":{"line":16,"column":37},"end":{"line":16,"column":97}},"line":16},"1":{"name":"(anonymous_1)","decl":{"start":{"line":25,"column":13},"end":{"line":25,"column":14}},"loc":{"start":{"line":25,"column":33},"end":{"line":29,"column":1}},"line":25}},"branchMap":{"0":{"loc":{"start":{"line":16,"column":46},"end":{"line":16,"column":94}},"type":"cond-expr","locations":[{"start":{"line":16,"column":70},"end":{"line":16,"column":73}},{"start":{"line":16,"column":76},"end":{"line":16,"column":94}}],"line":16},"1":{"loc":{"start":{"line":16,"column":46},"end":{"line":16,"column":67}},"type":"binary-expr","locations":[{"start":{"line":16,"column":46},"end":{"line":16,"column":49}},{"start":{"line":16,"column":53},"end":{"line":16,"column":67}}],"line":16}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":3,"7":1,"8":1,"9":1,"10":1,"11":0,"12":1,"13":1,"14":1},"f":{"0":3,"1":0},"b":{"0":[1,2],"1":[3,3]},"inputSourceMap":{"version":3,"sources":["app.js"],"names":["app","use","bodyparser","urlencoded","extended","json","get","req","res","message","authRoutes"],"mappings":";;;;;;;AAAA;;AACA;;AACA;;AAKA;;;;AAHA,IAAMA,GAAG,GAAG,0BAAZ,C,CAEA;;AAGA;AACAA,GAAG,CAACC,GAAJ,CAAQC,uBAAWC,UAAX,CAAsB;AAACC,EAAAA,QAAQ,EAAE;AAAX,CAAtB,CAAR;AACAJ,GAAG,CAACC,GAAJ,CAAQC,uBAAWG,IAAX,EAAR;AAEAL,GAAG,CAACM,GAAJ,CAAQ,GAAR,EAAa,UAACC,GAAD,EAAMC,GAAN,EAAc;AACvBA,EAAAA,GAAG,CAACH,IAAJ,CAAS;AAACI,IAAAA,OAAO,EAAE;AAAV,GAAT;AACH,CAFD,E,CAIA;;AACAT,GAAG,CAACC,GAAJ,CAAQ,MAAR,EAAgBS,yBAAhB;eACeV,G","sourceRoot":"C:\\Users\\HP\\Documents\\Projects\\PROJECTS\\Hackerbay\\api","sourcesContent":["import 'dotenv/config';\r\nimport express from 'express';\r\nimport bodyparser from 'body-parser';\r\n\r\nconst app = express();\r\n\r\n// Require routes\r\nimport authRoutes from './routes/authorization';\r\n\r\n// Using middlewares\r\napp.use(bodyparser.urlencoded({extended: false}));\r\napp.use(bodyparser.json());\r\n\r\napp.get('/', (req, res) => {\r\n    res.json({message: 'API up and running...'})\r\n})\r\n\r\n// Using routes\r\napp.use('/api', authRoutes);\r\nexport default app;"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"80d6a3618fd4f814378a724038d6d5ee90e8e516","contentHash":"9acff3b90d4d8b55069f0aea877c4569eae7a78b7d58b8b0a8355c996c97f740"},"C:\\Users\\HP\\Documents\\Projects\\PROJECTS\\Hackerbay\\api\\routes\\authorization.js":{"path":"C:\\Users\\HP\\Documents\\Projects\\PROJECTS\\Hackerbay\\api\\routes\\authorization.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":5,"column":3}},"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":28}},"2":{"start":{"line":8,"column":15},"end":{"line":8,"column":57}},"3":{"start":{"line":10,"column":21},"end":{"line":10,"column":84}},"4":{"start":{"line":12,"column":17},"end":{"line":12,"column":76}},"5":{"start":{"line":14,"column":17},"end":{"line":14,"column":76}},"6":{"start":{"line":16,"column":19},"end":{"line":16,"column":77}},"7":{"start":{"line":18,"column":39},"end":{"line":18,"column":95}},"8":{"start":{"line":20,"column":13},"end":{"line":20,"column":41}},"9":{"start":{"line":22,"column":0},"end":{"line":22,"column":55}},"10":{"start":{"line":23,"column":0},"end":{"line":23,"column":101}},"11":{"start":{"line":24,"column":0},"end":{"line":24,"column":110}},"12":{"start":{"line":25,"column":15},"end":{"line":25,"column":21}},"13":{"start":{"line":26,"column":0},"end":{"line":26,"column":30}}},"fnMap":{"0":{"name":"_interopRequireDefault","decl":{"start":{"line":18,"column":9},"end":{"line":18,"column":31}},"loc":{"start":{"line":18,"column":37},"end":{"line":18,"column":97}},"line":18}},"branchMap":{"0":{"loc":{"start":{"line":18,"column":46},"end":{"line":18,"column":94}},"type":"cond-expr","locations":[{"start":{"line":18,"column":70},"end":{"line":18,"column":73}},{"start":{"line":18,"column":76},"end":{"line":18,"column":94}}],"line":18},"1":{"loc":{"start":{"line":18,"column":46},"end":{"line":18,"column":67}},"type":"binary-expr","locations":[{"start":{"line":18,"column":46},"end":{"line":18,"column":49}},{"start":{"line":18,"column":53},"end":{"line":18,"column":67}}],"line":18}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":5,"8":1,"9":1,"10":1,"11":1,"12":1,"13":1},"f":{"0":5},"b":{"0":[4,1],"1":[5,5]},"inputSourceMap":{"version":3,"sources":["authorization.js"],"names":["router","express","Router","post","authenticationController","login","patch","authenticate","verifyUser","jsonPatchController","patchPayload","get","thumbnailController","generateThumbnail"],"mappings":";;;;;;;AAAA;;AACA;;AACA;;AACA;;AACA;;;;AAEA,IAAMA,MAAM,GAAGC,oBAAQC,MAAR,EAAf;;AAEAF,MAAM,CAACG,IAAP,CAAY,QAAZ,EAAsBC,0BAAyBC,KAA/C;AACAL,MAAM,CAACM,KAAP,CAAa,cAAb,EAA6BC,wBAAaC,UAA1C,EAAsDC,sBAAoBC,YAA1E;AACAV,MAAM,CAACW,GAAP,CAAW,oBAAX,EAAiCJ,wBAAaC,UAA9C,EAA0DI,sBAAoBC,iBAA9E;eAEeb,M","sourceRoot":"C:\\Users\\HP\\Documents\\Projects\\PROJECTS\\Hackerbay\\api\\routes","sourcesContent":["import express from 'express';\r\nimport authenticationController from '../controllers/authorization';\r\nimport jsonPatchController from '../controllers/jsonpatch';\r\nimport thumbnailController from '../controllers/thumbnail';\r\nimport authenticate from '../services/authService';\r\n\r\nconst router = express.Router();\r\n\r\nrouter.post('/login', authenticationController.login);\r\nrouter.patch('/jsonpatcher', authenticate.verifyUser, jsonPatchController.patchPayload);\r\nrouter.get('/generateThumbnail', authenticate.verifyUser, thumbnailController.generateThumbnail);\r\n\r\nexport default router;"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"97e2ecbe22347c81ac3734ba85f1fda2fc1c289d","contentHash":"cd2ee2d91b92198e8c4ec69927b8ce735616fde9bebf74acd70f91124f4e9c4b"},"C:\\Users\\HP\\Documents\\Projects\\PROJECTS\\Hackerbay\\api\\controllers\\authorization.js":{"path":"C:\\Users\\HP\\Documents\\Projects\\PROJECTS\\Hackerbay\\api\\controllers\\authorization.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":5,"column":3}},"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":28}},"2":{"start":{"line":8,"column":19},"end":{"line":8,"column":77}},"3":{"start":{"line":10,"column":39},"end":{"line":10,"column":95}},"4":{"start":{"line":12,"column":50},"end":{"line":12,"column":151}},"5":{"start":{"line":12,"column":92},"end":{"line":12,"column":149}},"6":{"start":{"line":14,"column":44},"end":{"line":14,"column":315}},"7":{"start":{"line":14,"column":57},"end":{"line":14,"column":58}},"8":{"start":{"line":14,"column":102},"end":{"line":14,"column":110}},"9":{"start":{"line":14,"column":112},"end":{"line":14,"column":167}},"10":{"start":{"line":14,"column":168},"end":{"line":14,"column":199}},"11":{"start":{"line":14,"column":200},"end":{"line":14,"column":254}},"12":{"start":{"line":14,"column":227},"end":{"line":14,"column":254}},"13":{"start":{"line":14,"column":255},"end":{"line":14,"column":313}},"14":{"start":{"line":16,"column":62},"end":{"line":16,"column":131}},"15":{"start":{"line":16,"column":78},"end":{"line":16,"column":131}},"16":{"start":{"line":16,"column":132},"end":{"line":16,"column":193}},"17":{"start":{"line":16,"column":149},"end":{"line":16,"column":193}},"18":{"start":{"line":16,"column":194},"end":{"line":16,"column":213}},"19":{"start":{"line":18,"column":35},"end":{"line":48,"column":3}},"20":{"start":{"line":20,"column":4},"end":{"line":20,"column":43}},"21":{"start":{"line":23,"column":2},"end":{"line":45,"column":6}},"22":{"start":{"line":26,"column":20},"end":{"line":29,"column":7}},"23":{"start":{"line":30,"column":6},"end":{"line":43,"column":7}},"24":{"start":{"line":30,"column":52},"end":{"line":32,"column":9}},"25":{"start":{"line":33,"column":8},"end":{"line":42,"column":11}},"26":{"start":{"line":34,"column":10},"end":{"line":38,"column":13}},"27":{"start":{"line":40,"column":10},"end":{"line":40,"column":24}},"28":{"start":{"line":41,"column":10},"end":{"line":41,"column":27}},"29":{"start":{"line":47,"column":2},"end":{"line":47,"column":25}},"30":{"start":{"line":50,"column":15},"end":{"line":50,"column":36}},"31":{"start":{"line":52,"column":0},"end":{"line":52,"column":30}}},"fnMap":{"0":{"name":"_interopRequireDefault","decl":{"start":{"line":10,"column":9},"end":{"line":10,"column":31}},"loc":{"start":{"line":10,"column":37},"end":{"line":10,"column":97}},"line":10},"1":{"name":"_classCallCheck","decl":{"start":{"line":12,"column":9},"end":{"line":12,"column":24}},"loc":{"start":{"line":12,"column":48},"end":{"line":12,"column":153}},"line":12},"2":{"name":"_defineProperties","decl":{"start":{"line":14,"column":9},"end":{"line":14,"column":26}},"loc":{"start":{"line":14,"column":42},"end":{"line":14,"column":317}},"line":14},"3":{"name":"_createClass","decl":{"start":{"line":16,"column":9},"end":{"line":16,"column":21}},"loc":{"start":{"line":16,"column":60},"end":{"line":16,"column":215}},"line":16},"4":{"name":"(anonymous_4)","decl":{"start":{"line":18,"column":35},"end":{"line":18,"column":36}},"loc":{"start":{"line":18,"column":47},"end":{"line":48,"column":1}},"line":18},"5":{"name":"LoginController","decl":{"start":{"line":19,"column":11},"end":{"line":19,"column":26}},"loc":{"start":{"line":19,"column":29},"end":{"line":21,"column":3}},"line":19},"6":{"name":"login","decl":{"start":{"line":25,"column":20},"end":{"line":25,"column":25}},"loc":{"start":{"line":25,"column":36},"end":{"line":44,"column":5}},"line":25},"7":{"name":"(anonymous_7)","decl":{"start":{"line":33,"column":63},"end":{"line":33,"column":64}},"loc":{"start":{"line":33,"column":80},"end":{"line":39,"column":9}},"line":33},"8":{"name":"(anonymous_8)","decl":{"start":{"line":39,"column":20},"end":{"line":39,"column":21}},"loc":{"start":{"line":39,"column":35},"end":{"line":42,"column":9}},"line":39}},"branchMap":{"0":{"loc":{"start":{"line":10,"column":46},"end":{"line":10,"column":94}},"type":"cond-expr","locations":[{"start":{"line":10,"column":70},"end":{"line":10,"column":73}},{"start":{"line":10,"column":76},"end":{"line":10,"column":94}}],"line":10},"1":{"loc":{"start":{"line":10,"column":46},"end":{"line":10,"column":67}},"type":"binary-expr","locations":[{"start":{"line":10,"column":46},"end":{"line":10,"column":49}},{"start":{"line":10,"column":53},"end":{"line":10,"column":67}}],"line":10},"2":{"loc":{"start":{"line":12,"column":50},"end":{"line":12,"column":151}},"type":"if","locations":[{"start":{"line":12,"column":50},"end":{"line":12,"column":151}},{"start":{"line":12,"column":50},"end":{"line":12,"column":151}}],"line":12},"3":{"loc":{"start":{"line":14,"column":136},"end":{"line":14,"column":166}},"type":"binary-expr","locations":[{"start":{"line":14,"column":136},"end":{"line":14,"column":157}},{"start":{"line":14,"column":161},"end":{"line":14,"column":166}}],"line":14},"4":{"loc":{"start":{"line":14,"column":200},"end":{"line":14,"column":254}},"type":"if","locations":[{"start":{"line":14,"column":200},"end":{"line":14,"column":254}},{"start":{"line":14,"column":200},"end":{"line":14,"column":254}}],"line":14},"5":{"loc":{"start":{"line":16,"column":62},"end":{"line":16,"column":131}},"type":"if","locations":[{"start":{"line":16,"column":62},"end":{"line":16,"column":131}},{"start":{"line":16,"column":62},"end":{"line":16,"column":131}}],"line":16},"6":{"loc":{"start":{"line":16,"column":132},"end":{"line":16,"column":193}},"type":"if","locations":[{"start":{"line":16,"column":132},"end":{"line":16,"column":193}},{"start":{"line":16,"column":132},"end":{"line":16,"column":193}}],"line":16},"7":{"loc":{"start":{"line":30,"column":6},"end":{"line":43,"column":7}},"type":"if","locations":[{"start":{"line":30,"column":6},"end":{"line":43,"column":7}},{"start":{"line":30,"column":6},"end":{"line":43,"column":7}}],"line":30},"8":{"loc":{"start":{"line":30,"column":10},"end":{"line":30,"column":50}},"type":"binary-expr","locations":[{"start":{"line":30,"column":10},"end":{"line":30,"column":28}},{"start":{"line":30,"column":32},"end":{"line":30,"column":50}}],"line":30}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":0,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":1,"13":1,"14":1,"15":1,"16":1,"17":0,"18":1,"19":1,"20":1,"21":1,"22":3,"23":3,"24":1,"25":2,"26":2,"27":0,"28":0,"29":1,"30":1,"31":1},"f":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":3,"7":2,"8":0},"b":{"0":[1,0],"1":[1,1],"2":[0,1],"3":[1,1],"4":[1,0],"5":[1,0],"6":[0,1],"7":[1,2],"8":[3,2]},"inputSourceMap":{"version":3,"sources":["authorization.js"],"names":["LoginController","req","res","payload","username","body","password","status","send","err","authService","generateJWTtoken","then","token","user","json"],"mappings":";;;;;;;AAAA;;;;;;;;;;IAEMA,e;;;;;;;0BACIC,G,EAAKC,G,EAAK;AACZ,UAAMC,OAAO,GAAG;AACZC,QAAAA,QAAQ,EAAEH,GAAG,CAACI,IAAJ,CAASD,QADP;AAEZE,QAAAA,QAAQ,EAAEL,GAAG,CAACI,IAAJ,CAASC;AAFP,OAAhB;AAIA,UAAG,CAACL,GAAG,CAACI,IAAJ,CAASD,QAAV,IAAsB,CAACH,GAAG,CAACI,IAAJ,CAASC,QAAnC,EAA6CJ,GAAG,CAACK,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAACC,QAAAA,GAAG,EAAE;AAAN,OAArB,EAA7C,KACK;AACDC,gCAAYC,gBAAZ,CAA6BR,OAA7B,EAAsCS,IAAtC,CAA2C,UAAAC,KAAK,EAAI;AAChDX,UAAAA,GAAG,CAACK,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAACD,YAAAA,MAAM,EAAE,IAAT;AAAeO,YAAAA,IAAI,EAAEX,OAAO,CAACC,QAA7B;AAAuCS,YAAAA,KAAK,EAALA;AAAvC,WAArB;AACH,SAFD,WAES,UAAAJ,GAAG,EAAI;AACZP,UAAAA,GAAG,CAACa,IAAJ,CAASN,GAAT;AACAR,UAAAA,GAAG,CAACM,MAAJ,GAAa,GAAb;AACH,SALD;AAMH;AAEJ;;;;;;eAGU,IAAIP,eAAJ,E","sourceRoot":"C:\\Users\\HP\\Documents\\Projects\\PROJECTS\\Hackerbay\\api\\controllers","sourcesContent":["import authService from '../services/authService';\r\n\r\nclass LoginController {\r\n    login(req, res) {\r\n        const payload = {\r\n            username: req.body.username,\r\n            password: req.body.password\r\n        }\r\n        if(!req.body.username || !req.body.password) res.status(401).send({err: 'login credentials is required!'})\r\n        else {\r\n            authService.generateJWTtoken(payload).then(token => {\r\n                res.status(200).send({status: true, user: payload.username, token})\r\n            }).catch(err => {\r\n                res.json(err);\r\n                req.status = 500;\r\n            })\r\n        }\r\n\r\n    }\r\n}\r\n\r\nexport default new LoginController();"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"a9c8e9b3b59ed494d8f4144b4893ab7e6c57f308","contentHash":"6a22e5b929217875aad2238fe60f0ca6dd311b54fd6cb1a6978237361a468735"},"C:\\Users\\HP\\Documents\\Projects\\PROJECTS\\Hackerbay\\api\\services\\authService.js":{"path":"C:\\Users\\HP\\Documents\\Projects\\PROJECTS\\Hackerbay\\api\\services\\authService.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":5,"column":3}},"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":28}},"2":{"start":{"line":8,"column":20},"end":{"line":8,"column":67}},"3":{"start":{"line":10,"column":39},"end":{"line":10,"column":95}},"4":{"start":{"line":12,"column":50},"end":{"line":12,"column":151}},"5":{"start":{"line":12,"column":92},"end":{"line":12,"column":149}},"6":{"start":{"line":14,"column":44},"end":{"line":14,"column":315}},"7":{"start":{"line":14,"column":57},"end":{"line":14,"column":58}},"8":{"start":{"line":14,"column":102},"end":{"line":14,"column":110}},"9":{"start":{"line":14,"column":112},"end":{"line":14,"column":167}},"10":{"start":{"line":14,"column":168},"end":{"line":14,"column":199}},"11":{"start":{"line":14,"column":200},"end":{"line":14,"column":254}},"12":{"start":{"line":14,"column":227},"end":{"line":14,"column":254}},"13":{"start":{"line":14,"column":255},"end":{"line":14,"column":313}},"14":{"start":{"line":16,"column":62},"end":{"line":16,"column":131}},"15":{"start":{"line":16,"column":78},"end":{"line":16,"column":131}},"16":{"start":{"line":16,"column":132},"end":{"line":16,"column":193}},"17":{"start":{"line":16,"column":149},"end":{"line":16,"column":193}},"18":{"start":{"line":16,"column":194},"end":{"line":16,"column":213}},"19":{"start":{"line":18,"column":13},"end":{"line":18,"column":35}},"20":{"start":{"line":20,"column":31},"end":{"line":55,"column":3}},"21":{"start":{"line":22,"column":4},"end":{"line":22,"column":39}},"22":{"start":{"line":25,"column":2},"end":{"line":52,"column":6}},"23":{"start":{"line":28,"column":6},"end":{"line":34,"column":9}},"24":{"start":{"line":29,"column":8},"end":{"line":33,"column":11}},"25":{"start":{"line":32,"column":10},"end":{"line":32,"column":51}},"26":{"start":{"line":32,"column":19},"end":{"line":32,"column":31}},"27":{"start":{"line":32,"column":36},"end":{"line":32,"column":51}},"28":{"start":{"line":39,"column":6},"end":{"line":50,"column":7}},"29":{"start":{"line":40,"column":20},"end":{"line":40,"column":83}},"30":{"start":{"line":42,"column":22},"end":{"line":42,"column":68}},"31":{"start":{"line":44,"column":8},"end":{"line":44,"column":31}},"32":{"start":{"line":45,"column":8},"end":{"line":45,"column":15}},"33":{"start":{"line":47,"column":8},"end":{"line":49,"column":11}},"34":{"start":{"line":54,"column":2},"end":{"line":54,"column":21}},"35":{"start":{"line":57,"column":15},"end":{"line":57,"column":32}},"36":{"start":{"line":59,"column":0},"end":{"line":59,"column":30}}},"fnMap":{"0":{"name":"_interopRequireDefault","decl":{"start":{"line":10,"column":9},"end":{"line":10,"column":31}},"loc":{"start":{"line":10,"column":37},"end":{"line":10,"column":97}},"line":10},"1":{"name":"_classCallCheck","decl":{"start":{"line":12,"column":9},"end":{"line":12,"column":24}},"loc":{"start":{"line":12,"column":48},"end":{"line":12,"column":153}},"line":12},"2":{"name":"_defineProperties","decl":{"start":{"line":14,"column":9},"end":{"line":14,"column":26}},"loc":{"start":{"line":14,"column":42},"end":{"line":14,"column":317}},"line":14},"3":{"name":"_createClass","decl":{"start":{"line":16,"column":9},"end":{"line":16,"column":21}},"loc":{"start":{"line":16,"column":60},"end":{"line":16,"column":215}},"line":16},"4":{"name":"(anonymous_4)","decl":{"start":{"line":20,"column":31},"end":{"line":20,"column":32}},"loc":{"start":{"line":20,"column":43},"end":{"line":55,"column":1}},"line":20},"5":{"name":"AuthService","decl":{"start":{"line":21,"column":11},"end":{"line":21,"column":22}},"loc":{"start":{"line":21,"column":25},"end":{"line":23,"column":3}},"line":21},"6":{"name":"generateJWTtoken","decl":{"start":{"line":27,"column":20},"end":{"line":27,"column":36}},"loc":{"start":{"line":27,"column":46},"end":{"line":35,"column":5}},"line":27},"7":{"name":"(anonymous_7)","decl":{"start":{"line":28,"column":25},"end":{"line":28,"column":26}},"loc":{"start":{"line":28,"column":52},"end":{"line":34,"column":7}},"line":28},"8":{"name":"(anonymous_8)","decl":{"start":{"line":31,"column":11},"end":{"line":31,"column":12}},"loc":{"start":{"line":31,"column":33},"end":{"line":33,"column":9}},"line":31},"9":{"name":"verifyUser","decl":{"start":{"line":38,"column":20},"end":{"line":38,"column":30}},"loc":{"start":{"line":38,"column":47},"end":{"line":51,"column":5}},"line":38}},"branchMap":{"0":{"loc":{"start":{"line":10,"column":46},"end":{"line":10,"column":94}},"type":"cond-expr","locations":[{"start":{"line":10,"column":70},"end":{"line":10,"column":73}},{"start":{"line":10,"column":76},"end":{"line":10,"column":94}}],"line":10},"1":{"loc":{"start":{"line":10,"column":46},"end":{"line":10,"column":67}},"type":"binary-expr","locations":[{"start":{"line":10,"column":46},"end":{"line":10,"column":49}},{"start":{"line":10,"column":53},"end":{"line":10,"column":67}}],"line":10},"2":{"loc":{"start":{"line":12,"column":50},"end":{"line":12,"column":151}},"type":"if","locations":[{"start":{"line":12,"column":50},"end":{"line":12,"column":151}},{"start":{"line":12,"column":50},"end":{"line":12,"column":151}}],"line":12},"3":{"loc":{"start":{"line":14,"column":136},"end":{"line":14,"column":166}},"type":"binary-expr","locations":[{"start":{"line":14,"column":136},"end":{"line":14,"column":157}},{"start":{"line":14,"column":161},"end":{"line":14,"column":166}}],"line":14},"4":{"loc":{"start":{"line":14,"column":200},"end":{"line":14,"column":254}},"type":"if","locations":[{"start":{"line":14,"column":200},"end":{"line":14,"column":254}},{"start":{"line":14,"column":200},"end":{"line":14,"column":254}}],"line":14},"5":{"loc":{"start":{"line":16,"column":62},"end":{"line":16,"column":131}},"type":"if","locations":[{"start":{"line":16,"column":62},"end":{"line":16,"column":131}},{"start":{"line":16,"column":62},"end":{"line":16,"column":131}}],"line":16},"6":{"loc":{"start":{"line":16,"column":132},"end":{"line":16,"column":193}},"type":"if","locations":[{"start":{"line":16,"column":132},"end":{"line":16,"column":193}},{"start":{"line":16,"column":132},"end":{"line":16,"column":193}}],"line":16},"7":{"loc":{"start":{"line":32,"column":10},"end":{"line":32,"column":51}},"type":"if","locations":[{"start":{"line":32,"column":10},"end":{"line":32,"column":51}},{"start":{"line":32,"column":10},"end":{"line":32,"column":51}}],"line":32},"8":{"loc":{"start":{"line":40,"column":20},"end":{"line":40,"column":83}},"type":"binary-expr","locations":[{"start":{"line":40,"column":20},"end":{"line":40,"column":34}},{"start":{"line":40,"column":38},"end":{"line":40,"column":54}},{"start":{"line":40,"column":58},"end":{"line":40,"column":83}}],"line":40}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":0,"6":1,"7":1,"8":2,"9":2,"10":2,"11":2,"12":2,"13":2,"14":1,"15":1,"16":1,"17":0,"18":1,"19":1,"20":1,"21":1,"22":1,"23":2,"24":2,"25":2,"26":0,"27":2,"28":3,"29":3,"30":3,"31":3,"32":3,"33":0,"34":1,"35":1,"36":1},"f":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":2,"7":2,"8":2,"9":3},"b":{"0":[0,1],"1":[1,1],"2":[0,1],"3":[2,2],"4":[2,0],"5":[1,0],"6":[0,1],"7":[0,2],"8":[3,3,3]},"inputSourceMap":{"version":3,"sources":["authService.js"],"names":["secret","process","env","AuthSecret","AuthService","payload","Promise","resolve","reject","jwt","sign","expiresIn","err","token","req","res","next","body","params","headers","authorization","decoded","verify","userData","error","json","message"],"mappings":";;;;;;;AAAA;;;;;;;;;;AACA,IAAMA,MAAM,GAAGC,OAAO,CAACC,GAAR,CAAYC,UAA3B;;IAEMC,W;;;;;;;qCACeC,O,EAAS;AACtB,aAAO,IAAIC,OAAJ,CAAY,UAACC,OAAD,EAAUC,MAAV,EAAqB;AACpCC,iCAAIC,IAAJ,CAASL,OAAT,EAAkBL,MAAlB,EAA0B;AAAEW,UAAAA,SAAS,EAAE;AAAb,SAA1B,EAAiD,UAACC,GAAD,EAAMC,KAAN,EAAgB;AAC7D,cAAGD,GAAH,EAAQJ,MAAM,CAACI,GAAD,CAAN,CAAR,KACKL,OAAO,CAACM,KAAD,CAAP;AACR,SAHD;AAIH,OALM,CAAP;AAMH;;;+BACUC,G,EAAKC,G,EAAKC,I,EAAM;AACvB,UAAI;AACA,YAAMH,KAAK,GAAGC,GAAG,CAACG,IAAJ,CAASJ,KAAT,IAAkBC,GAAG,CAACI,MAAJ,CAAWL,KAA7B,IAAsCC,GAAG,CAACK,OAAJ,CAAYC,aAAhE;;AACA,YAAMC,OAAO,GAAGZ,yBAAIa,MAAJ,CAAWT,KAAX,EAAkBb,MAAlB,CAAhB;;AACAc,QAAAA,GAAG,CAACS,QAAJ,GAAeF,OAAf;AACAL,QAAAA,IAAI;AACP,OALD,CAKE,OAAMQ,KAAN,EAAa;AACXT,QAAAA,GAAG,CAACU,IAAJ,CAAS;AAACC,UAAAA,OAAO,EAAE;AAAV,SAAT;AACH;AACJ;;;;;;eAGU,IAAItB,WAAJ,E","sourceRoot":"C:\\Users\\HP\\Documents\\Projects\\PROJECTS\\Hackerbay\\api\\services","sourcesContent":["import jwt from 'jsonwebtoken';\r\nconst secret = process.env.AuthSecret;\r\n\r\nclass AuthService {\r\n    generateJWTtoken(payload) {\r\n        return new Promise((resolve, reject) => {\r\n            jwt.sign(payload, secret, { expiresIn: '24hr' }, (err, token) => {\r\n                if(err) reject(err);\r\n                else resolve(token);\r\n            })\r\n        })\r\n    }\r\n    verifyUser(req, res, next) {\r\n        try {\r\n            const token = req.body.token || req.params.token || req.headers.authorization;\r\n            const decoded = jwt.verify(token, secret);\r\n            req.userData = decoded;\r\n            next();\r\n        } catch(error) {\r\n            res.json({message: 'Authentication failed!'})\r\n        }\r\n    }\r\n}\r\n\r\nexport default new AuthService;"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"ebc421480738a06cb0d1c8bcad3b1abeb2b69662","contentHash":"7e257f74221203e14b5e5c6ea8a0d996b5d7524fae6882a8ca6e3852cd4b8e0a"},"C:\\Users\\HP\\Documents\\Projects\\PROJECTS\\Hackerbay\\api\\controllers\\jsonpatch.js":{"path":"C:\\Users\\HP\\Documents\\Projects\\PROJECTS\\Hackerbay\\api\\controllers\\jsonpatch.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":5,"column":3}},"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":28}},"2":{"start":{"line":8,"column":17},"end":{"line":8,"column":61}},"3":{"start":{"line":10,"column":39},"end":{"line":10,"column":95}},"4":{"start":{"line":12,"column":50},"end":{"line":12,"column":151}},"5":{"start":{"line":12,"column":92},"end":{"line":12,"column":149}},"6":{"start":{"line":14,"column":44},"end":{"line":14,"column":315}},"7":{"start":{"line":14,"column":57},"end":{"line":14,"column":58}},"8":{"start":{"line":14,"column":102},"end":{"line":14,"column":110}},"9":{"start":{"line":14,"column":112},"end":{"line":14,"column":167}},"10":{"start":{"line":14,"column":168},"end":{"line":14,"column":199}},"11":{"start":{"line":14,"column":200},"end":{"line":14,"column":254}},"12":{"start":{"line":14,"column":227},"end":{"line":14,"column":254}},"13":{"start":{"line":14,"column":255},"end":{"line":14,"column":313}},"14":{"start":{"line":16,"column":62},"end":{"line":16,"column":131}},"15":{"start":{"line":16,"column":78},"end":{"line":16,"column":131}},"16":{"start":{"line":16,"column":132},"end":{"line":16,"column":193}},"17":{"start":{"line":16,"column":149},"end":{"line":16,"column":193}},"18":{"start":{"line":16,"column":194},"end":{"line":16,"column":213}},"19":{"start":{"line":18,"column":29},"end":{"line":44,"column":3}},"20":{"start":{"line":20,"column":4},"end":{"line":20,"column":37}},"21":{"start":{"line":23,"column":2},"end":{"line":41,"column":6}},"22":{"start":{"line":26,"column":6},"end":{"line":39,"column":7}},"23":{"start":{"line":27,"column":20},"end":{"line":27,"column":108}},"24":{"start":{"line":28,"column":23},"end":{"line":28,"column":102}},"25":{"start":{"line":29,"column":30},"end":{"line":29,"column":80}},"26":{"start":{"line":31,"column":8},"end":{"line":34,"column":11}},"27":{"start":{"line":36,"column":8},"end":{"line":38,"column":11}},"28":{"start":{"line":43,"column":2},"end":{"line":43,"column":19}},"29":{"start":{"line":46,"column":15},"end":{"line":46,"column":30}},"30":{"start":{"line":48,"column":0},"end":{"line":48,"column":30}}},"fnMap":{"0":{"name":"_interopRequireDefault","decl":{"start":{"line":10,"column":9},"end":{"line":10,"column":31}},"loc":{"start":{"line":10,"column":37},"end":{"line":10,"column":97}},"line":10},"1":{"name":"_classCallCheck","decl":{"start":{"line":12,"column":9},"end":{"line":12,"column":24}},"loc":{"start":{"line":12,"column":48},"end":{"line":12,"column":153}},"line":12},"2":{"name":"_defineProperties","decl":{"start":{"line":14,"column":9},"end":{"line":14,"column":26}},"loc":{"start":{"line":14,"column":42},"end":{"line":14,"column":317}},"line":14},"3":{"name":"_createClass","decl":{"start":{"line":16,"column":9},"end":{"line":16,"column":21}},"loc":{"start":{"line":16,"column":60},"end":{"line":16,"column":215}},"line":16},"4":{"name":"(anonymous_4)","decl":{"start":{"line":18,"column":29},"end":{"line":18,"column":30}},"loc":{"start":{"line":18,"column":41},"end":{"line":44,"column":1}},"line":18},"5":{"name":"JsonPatch","decl":{"start":{"line":19,"column":11},"end":{"line":19,"column":20}},"loc":{"start":{"line":19,"column":23},"end":{"line":21,"column":3}},"line":19},"6":{"name":"patchPayload","decl":{"start":{"line":25,"column":20},"end":{"line":25,"column":32}},"loc":{"start":{"line":25,"column":43},"end":{"line":40,"column":5}},"line":25}},"branchMap":{"0":{"loc":{"start":{"line":10,"column":46},"end":{"line":10,"column":94}},"type":"cond-expr","locations":[{"start":{"line":10,"column":70},"end":{"line":10,"column":73}},{"start":{"line":10,"column":76},"end":{"line":10,"column":94}}],"line":10},"1":{"loc":{"start":{"line":10,"column":46},"end":{"line":10,"column":67}},"type":"binary-expr","locations":[{"start":{"line":10,"column":46},"end":{"line":10,"column":49}},{"start":{"line":10,"column":53},"end":{"line":10,"column":67}}],"line":10},"2":{"loc":{"start":{"line":12,"column":50},"end":{"line":12,"column":151}},"type":"if","locations":[{"start":{"line":12,"column":50},"end":{"line":12,"column":151}},{"start":{"line":12,"column":50},"end":{"line":12,"column":151}}],"line":12},"3":{"loc":{"start":{"line":14,"column":136},"end":{"line":14,"column":166}},"type":"binary-expr","locations":[{"start":{"line":14,"column":136},"end":{"line":14,"column":157}},{"start":{"line":14,"column":161},"end":{"line":14,"column":166}}],"line":14},"4":{"loc":{"start":{"line":14,"column":200},"end":{"line":14,"column":254}},"type":"if","locations":[{"start":{"line":14,"column":200},"end":{"line":14,"column":254}},{"start":{"line":14,"column":200},"end":{"line":14,"column":254}}],"line":14},"5":{"loc":{"start":{"line":16,"column":62},"end":{"line":16,"column":131}},"type":"if","locations":[{"start":{"line":16,"column":62},"end":{"line":16,"column":131}},{"start":{"line":16,"column":62},"end":{"line":16,"column":131}}],"line":16},"6":{"loc":{"start":{"line":16,"column":132},"end":{"line":16,"column":193}},"type":"if","locations":[{"start":{"line":16,"column":132},"end":{"line":16,"column":193}},{"start":{"line":16,"column":132},"end":{"line":16,"column":193}}],"line":16},"7":{"loc":{"start":{"line":27,"column":20},"end":{"line":27,"column":108}},"type":"cond-expr","locations":[{"start":{"line":27,"column":59},"end":{"line":27,"column":88}},{"start":{"line":27,"column":91},"end":{"line":27,"column":108}}],"line":27},"8":{"loc":{"start":{"line":28,"column":23},"end":{"line":28,"column":102}},"type":"cond-expr","locations":[{"start":{"line":28,"column":59},"end":{"line":28,"column":85}},{"start":{"line":28,"column":88},"end":{"line":28,"column":102}}],"line":28}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":0,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":1,"13":1,"14":1,"15":1,"16":1,"17":0,"18":1,"19":1,"20":1,"21":1,"22":1,"23":1,"24":1,"25":1,"26":1,"27":0,"28":1,"29":1,"30":1},"f":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1},"b":{"0":[0,1],"1":[1,1],"2":[0,1],"3":[1,1],"4":[1,0],"5":[1,0],"6":[0,1],"7":[0,1],"8":[0,1]},"inputSourceMap":{"version":3,"sources":["jsonpatch.js"],"names":["JsonPatch","req","res","myDoc","body","document","JSON","parse","thePatch","patch","patchedDocument","jsonpatch","apply_patch","status","send","result","error","err"],"mappings":";;;;;;;AAAA;;;;;;;;;;IAEMA,S;;;;;;;iCACWC,G,EAAKC,G,EAAK;AACnB,UAAI;AACA,YAAIC,KAAK,GAAG,OAAQF,GAAG,CAACG,IAAJ,CAASC,QAAjB,IAA8B,QAA9B,GAAyCC,IAAI,CAACC,KAAL,CAAWN,GAAG,CAACG,IAAJ,CAASC,QAApB,CAAzC,GAAyEJ,GAAG,CAACG,IAAJ,CAASC,QAA9F;AAAA,YACIG,QAAQ,GAAG,OAAQP,GAAG,CAACG,IAAJ,CAASK,KAAjB,IAA2B,QAA3B,GAAsCH,IAAI,CAACC,KAAL,CAAWN,GAAG,CAACG,IAAJ,CAASK,KAApB,CAAtC,GAAmER,GAAG,CAACG,IAAJ,CAASK,KAD3F;AAAA,YAEIC,eAAe,GAAGC,sBAAUC,WAAV,CAAsBT,KAAtB,EAA6BK,QAA7B,CAFtB;;AAGA,eAAON,GAAG,CAACW,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AACxBD,UAAAA,MAAM,EAAE,IADgB;AAExBE,UAAAA,MAAM,EAAEL;AAFgB,SAArB,CAAP;AAIH,OARD,CAQE,OAAOM,KAAP,EAAc;AACZd,QAAAA,GAAG,CAACW,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAACG,UAAAA,GAAG,EAAED;AAAN,SAArB;AACH;AACJ;;;;;;eAGU,IAAIhB,SAAJ,E","sourceRoot":"C:\\Users\\HP\\Documents\\Projects\\PROJECTS\\Hackerbay\\api\\controllers","sourcesContent":["import jsonpatch from 'jsonpatch';\r\n\r\nclass JsonPatch {\r\n    patchPayload(req, res) {\r\n        try {\r\n            let myDoc = typeof (req.body.document) == \"string\" ? JSON.parse(req.body.document) : req.body.document,\r\n                thePatch = typeof (req.body.patch) == \"string\" ? JSON.parse(req.body.patch) : req.body.patch,\r\n                patchedDocument = jsonpatch.apply_patch(myDoc, thePatch);\r\n            return res.status(200).send({\r\n                status: true,\r\n                result: patchedDocument\r\n            })\r\n        } catch (error) {\r\n            res.status(500).send({err: error});\r\n        }\r\n    }\r\n}\r\n\r\nexport default new JsonPatch;"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"271f510e02a41908c103ad89de5958af3adc4aa1","contentHash":"5664168fc47c3a800cd1d135623d6a1de5ab6136dc6a3277eadc91a3d9da9731"},"C:\\Users\\HP\\Documents\\Projects\\PROJECTS\\Hackerbay\\api\\controllers\\thumbnail.js":{"path":"C:\\Users\\HP\\Documents\\Projects\\PROJECTS\\Hackerbay\\api\\controllers\\thumbnail.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":5,"column":3}},"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":28}},"2":{"start":{"line":8,"column":13},"end":{"line":8,"column":53}},"3":{"start":{"line":10,"column":12},"end":{"line":10,"column":51}},"4":{"start":{"line":12,"column":13},"end":{"line":12,"column":53}},"5":{"start":{"line":14,"column":10},"end":{"line":14,"column":47}},"6":{"start":{"line":16,"column":39},"end":{"line":16,"column":95}},"7":{"start":{"line":18,"column":50},"end":{"line":18,"column":151}},"8":{"start":{"line":18,"column":92},"end":{"line":18,"column":149}},"9":{"start":{"line":20,"column":44},"end":{"line":20,"column":315}},"10":{"start":{"line":20,"column":57},"end":{"line":20,"column":58}},"11":{"start":{"line":20,"column":102},"end":{"line":20,"column":110}},"12":{"start":{"line":20,"column":112},"end":{"line":20,"column":167}},"13":{"start":{"line":20,"column":168},"end":{"line":20,"column":199}},"14":{"start":{"line":20,"column":200},"end":{"line":20,"column":254}},"15":{"start":{"line":20,"column":227},"end":{"line":20,"column":254}},"16":{"start":{"line":20,"column":255},"end":{"line":20,"column":313}},"17":{"start":{"line":22,"column":62},"end":{"line":22,"column":131}},"18":{"start":{"line":22,"column":78},"end":{"line":22,"column":131}},"19":{"start":{"line":22,"column":132},"end":{"line":22,"column":193}},"20":{"start":{"line":22,"column":149},"end":{"line":22,"column":193}},"21":{"start":{"line":22,"column":194},"end":{"line":22,"column":213}},"22":{"start":{"line":24,"column":10},"end":{"line":24,"column":64}},"23":{"start":{"line":26,"column":29},"end":{"line":70,"column":3}},"24":{"start":{"line":28,"column":4},"end":{"line":28,"column":37}},"25":{"start":{"line":31,"column":2},"end":{"line":67,"column":6}},"26":{"start":{"line":34,"column":21},"end":{"line":34,"column":39}},"27":{"start":{"line":35,"column":6},"end":{"line":37,"column":9}},"28":{"start":{"line":35,"column":21},"end":{"line":37,"column":9}},"29":{"start":{"line":38,"column":6},"end":{"line":65,"column":9}},"30":{"start":{"line":43,"column":22},"end":{"line":43,"column":32}},"31":{"start":{"line":44,"column":16},"end":{"line":44,"column":18}},"32":{"start":{"line":45,"column":16},"end":{"line":45,"column":18}},"33":{"start":{"line":47,"column":32},"end":{"line":47,"column":89}},"34":{"start":{"line":49,"column":25},"end":{"line":49,"column":76}},"35":{"start":{"line":51,"column":8},"end":{"line":51,"column":39}},"36":{"start":{"line":53,"column":28},"end":{"line":53,"column":128}},"37":{"start":{"line":55,"column":8},"end":{"line":64,"column":11}},"38":{"start":{"line":56,"column":10},"end":{"line":63,"column":13}},"39":{"start":{"line":60,"column":12},"end":{"line":60,"column":160}},"40":{"start":{"line":62,"column":12},"end":{"line":62,"column":59}},"41":{"start":{"line":69,"column":2},"end":{"line":69,"column":19}},"42":{"start":{"line":72,"column":15},"end":{"line":72,"column":30}},"43":{"start":{"line":74,"column":0},"end":{"line":74,"column":30}}},"fnMap":{"0":{"name":"_interopRequireDefault","decl":{"start":{"line":16,"column":9},"end":{"line":16,"column":31}},"loc":{"start":{"line":16,"column":37},"end":{"line":16,"column":97}},"line":16},"1":{"name":"_classCallCheck","decl":{"start":{"line":18,"column":9},"end":{"line":18,"column":24}},"loc":{"start":{"line":18,"column":48},"end":{"line":18,"column":153}},"line":18},"2":{"name":"_defineProperties","decl":{"start":{"line":20,"column":9},"end":{"line":20,"column":26}},"loc":{"start":{"line":20,"column":42},"end":{"line":20,"column":317}},"line":20},"3":{"name":"_createClass","decl":{"start":{"line":22,"column":9},"end":{"line":22,"column":21}},"loc":{"start":{"line":22,"column":60},"end":{"line":22,"column":215}},"line":22},"4":{"name":"(anonymous_4)","decl":{"start":{"line":26,"column":29},"end":{"line":26,"column":30}},"loc":{"start":{"line":26,"column":41},"end":{"line":70,"column":1}},"line":26},"5":{"name":"Thumbnail","decl":{"start":{"line":27,"column":11},"end":{"line":27,"column":20}},"loc":{"start":{"line":27,"column":23},"end":{"line":29,"column":3}},"line":27},"6":{"name":"generateThumbnail","decl":{"start":{"line":33,"column":20},"end":{"line":33,"column":37}},"loc":{"start":{"line":33,"column":48},"end":{"line":66,"column":5}},"line":33},"7":{"name":"(anonymous_7)","decl":{"start":{"line":42,"column":14},"end":{"line":42,"column":15}},"loc":{"start":{"line":42,"column":34},"end":{"line":65,"column":7}},"line":42},"8":{"name":"(anonymous_8)","decl":{"start":{"line":55,"column":31},"end":{"line":55,"column":32}},"loc":{"start":{"line":55,"column":43},"end":{"line":64,"column":9}},"line":55},"9":{"name":"(anonymous_9)","decl":{"start":{"line":59,"column":40},"end":{"line":59,"column":41}},"loc":{"start":{"line":59,"column":54},"end":{"line":61,"column":11}},"line":59},"10":{"name":"(anonymous_10)","decl":{"start":{"line":61,"column":22},"end":{"line":61,"column":23}},"loc":{"start":{"line":61,"column":37},"end":{"line":63,"column":11}},"line":61}},"branchMap":{"0":{"loc":{"start":{"line":16,"column":46},"end":{"line":16,"column":94}},"type":"cond-expr","locations":[{"start":{"line":16,"column":70},"end":{"line":16,"column":73}},{"start":{"line":16,"column":76},"end":{"line":16,"column":94}}],"line":16},"1":{"loc":{"start":{"line":16,"column":46},"end":{"line":16,"column":67}},"type":"binary-expr","locations":[{"start":{"line":16,"column":46},"end":{"line":16,"column":49}},{"start":{"line":16,"column":53},"end":{"line":16,"column":67}}],"line":16},"2":{"loc":{"start":{"line":18,"column":50},"end":{"line":18,"column":151}},"type":"if","locations":[{"start":{"line":18,"column":50},"end":{"line":18,"column":151}},{"start":{"line":18,"column":50},"end":{"line":18,"column":151}}],"line":18},"3":{"loc":{"start":{"line":20,"column":136},"end":{"line":20,"column":166}},"type":"binary-expr","locations":[{"start":{"line":20,"column":136},"end":{"line":20,"column":157}},{"start":{"line":20,"column":161},"end":{"line":20,"column":166}}],"line":20},"4":{"loc":{"start":{"line":20,"column":200},"end":{"line":20,"column":254}},"type":"if","locations":[{"start":{"line":20,"column":200},"end":{"line":20,"column":254}},{"start":{"line":20,"column":200},"end":{"line":20,"column":254}}],"line":20},"5":{"loc":{"start":{"line":22,"column":62},"end":{"line":22,"column":131}},"type":"if","locations":[{"start":{"line":22,"column":62},"end":{"line":22,"column":131}},{"start":{"line":22,"column":62},"end":{"line":22,"column":131}}],"line":22},"6":{"loc":{"start":{"line":22,"column":132},"end":{"line":22,"column":193}},"type":"if","locations":[{"start":{"line":22,"column":132},"end":{"line":22,"column":193}},{"start":{"line":22,"column":132},"end":{"line":22,"column":193}}],"line":22},"7":{"loc":{"start":{"line":35,"column":6},"end":{"line":37,"column":9}},"type":"if","locations":[{"start":{"line":35,"column":6},"end":{"line":37,"column":9}},{"start":{"line":35,"column":6},"end":{"line":37,"column":9}}],"line":35}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":4,"7":1,"8":0,"9":1,"10":1,"11":1,"12":1,"13":1,"14":1,"15":1,"16":1,"17":1,"18":1,"19":1,"20":0,"21":1,"22":1,"23":1,"24":1,"25":1,"26":2,"27":2,"28":1,"29":1,"30":1,"31":1,"32":1,"33":1,"34":1,"35":1,"36":1,"37":1,"38":1,"39":1,"40":0,"41":1,"42":1,"43":1},"f":{"0":4,"1":1,"2":1,"3":1,"4":1,"5":1,"6":2,"7":1,"8":1,"9":1,"10":0},"b":{"0":[0,4],"1":[4,4],"2":[0,1],"3":[1,1],"4":[1,0],"5":[1,0],"6":[0,1],"7":[1,1]},"inputSourceMap":{"version":3,"sources":["thumbnail.js"],"names":["dir","path","join","__dirname","Thumbnail","req","res","filename","query","imageUrl","status","send","err","method","url","responseType","then","response","newName","Date","now","w","h","downloadImagePath","resolve","writeImage","fs","createWriteStream","data","pipe","thumbnailPath","on","resize","width","height","toFile","re","sendFile","console","log"],"mappings":";;;;;;;AAAA;;AACA;;AACA;;AACA;;;;;;;;;;AACA,IAAMA,GAAG,GAAGC,iBAAKC,IAAL,CAAUC,SAAV,EAAqB,oBAArB,CAAZ;;IAEMC,S;;;;;;;sCACgBC,G,EAAKC,G,EAAK;AACxB,UAAMC,QAAQ,GAAGF,GAAG,CAACG,KAAJ,CAAUC,QAA3B;AACA,UAAG,CAACF,QAAJ,EAAc,OAAOD,GAAG,CAACI,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAACC,QAAAA,GAAG,EAAE;AAAN,OAArB,CAAP;AACd,6BAAM;AACFC,QAAAA,MAAM,EAAE,KADN;AAEFC,QAAAA,GAAG,EAAEP,QAFH;AAGFQ,QAAAA,YAAY,EAAE;AAHZ,OAAN,EAIGC,IAJH,CAIQ,UAAUC,QAAV,EAAoB;AACxB,YAAMC,OAAO,GAAGC,IAAI,CAACC,GAAL,EAAhB;AAAA,YAA4BC,CAAC,GAAG,EAAhC;AAAA,YAAoCC,CAAC,GAAG,EAAxC;;AACA,YAAMC,iBAAiB,GAAGtB,iBAAKuB,OAAL,CAAaxB,GAAb,YAAqBkB,OAArB,UAA1B;;AACA,YAAMO,UAAU,GAAGC,eAAGC,iBAAH,CAAqBJ,iBAArB,CAAnB;;AACAN,QAAAA,QAAQ,CAACW,IAAT,CAAcC,IAAd,CAAmBJ,UAAnB;;AACA,YAAMK,aAAa,GAAG7B,iBAAKuB,OAAL,CAAaxB,GAAb,yBAAkCkB,OAAlC,cAA6CG,CAA7C,cAAkDC,CAAlD,UAAtB;;AACAG,QAAAA,UAAU,CAACM,EAAX,CAAc,OAAd,EAAuB,YAAM;AACzB,iCAAMR,iBAAN,EAAyBS,MAAzB,CAAgC;AAAEC,YAAAA,KAAK,EAAEZ,CAAT;AAAYa,YAAAA,MAAM,EAAEZ;AAApB,WAAhC,EAAyDa,MAAzD,CAAgEL,aAAhE,EAA+Ed,IAA/E,CAAoF,UAAAoB,EAAE,EAAI;AACtF9B,YAAAA,GAAG,CAACI,MAAJ,CAAW,GAAX,EAAgB2B,QAAhB,CAAyBpC,iBAAKC,IAAL,CAAUC,SAAV,2CAAuDe,OAAvD,cAAkEG,CAAlE,cAAuEC,CAAvE,UAAzB;AACH,WAFD,WAES,UAAAV,GAAG;AAAA,mBAAI0B,OAAO,CAACC,GAAR,CAAY,qBAAZ,EAAmC3B,GAAnC,CAAJ;AAAA,WAFZ;AAGH,SAJD;AAKH,OAfD;AAgBH;;;;;;eAGU,IAAIR,SAAJ,E","sourceRoot":"C:\\Users\\HP\\Documents\\Projects\\PROJECTS\\Hackerbay\\api\\controllers","sourcesContent":["import sharp from 'sharp';\r\nimport path from 'path';\r\nimport axios from 'axios';\r\nimport fs from 'fs';\r\nconst dir = path.join(__dirname, '/../../thumbnails/');\r\n\r\nclass Thumbnail {\r\n    generateThumbnail(req, res) {\r\n        const filename = req.query.imageUrl;\r\n        if(!filename) return res.status(404).send({err: 'image is required as a query'});\r\n        axios({\r\n            method: \"get\",\r\n            url: filename,\r\n            responseType: \"stream\"\r\n        }).then(function (response) {\r\n            const newName = Date.now(), w = 50, h = 50;\r\n            const downloadImagePath = path.resolve(dir, `${newName}.jpg`)\r\n            const writeImage = fs.createWriteStream(downloadImagePath);\r\n            response.data.pipe(writeImage);\r\n            const thumbnailPath = path.resolve(dir, `resize/thumb-${newName}-${w}x${h}.jpg`);\r\n            writeImage.on('close', () => {\r\n                sharp(downloadImagePath).resize({ width: w, height: h }).toFile(thumbnailPath).then(re => {\r\n                    res.status(200).sendFile(path.join(__dirname, `/../../thumbnails/resize/thumb-${newName}-${w}x${h}.jpg`))\r\n                }).catch(err => console.log('error just happened', err))\r\n            })\r\n        });\r\n    }\r\n}\r\n\r\nexport default new Thumbnail;"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"41b7eb5c01f9400e36ef846699c0564f299cacd9","contentHash":"b7f995bba5cf6101ba00a6a7b79a8b0a225645a7f86112cdea3ad292161aede6"}}